---
/**
 * 404 Not Found Page
 * Error page for invalid routes or resources
 * Following error page pattern from ui-plan.md Section 2.5.2
 *
 * Server-rendered to support middleware authentication checks
 */
import Layout from "@/layouts/Layout.astro";

const { user } = Astro.locals;

export const prerender = false;
---

<Layout title="404 - Page Not Found" description="The page you're looking for doesn't exist">
  <main id="main-content" class="container flex min-h-screen items-center justify-center px-4">
    <div class="text-center max-w-md">
      <!-- Icon -->
      <div
        class="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10"
        aria-hidden="true"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-10 w-10 text-destructive"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12"></path>
        </svg>
      </div>

      <!-- Heading -->
      <h1 class="mb-4 text-4xl font-bold">404 - Page Not Found</h1>

      <!-- Message -->
      <p class="mb-8 text-muted-foreground leading-relaxed">
        The page you're looking for doesn't exist or has been moved.
      </p>

      <!-- CTAs -->
      <div class="flex flex-col gap-4 sm:flex-row sm:justify-center">
        {
          user ? (
            <a
              href="/dashboard"
              class="inline-flex items-center justify-center rounded-md bg-primary px-6 py-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 min-h-[44px]"
            >
              Go to Dashboard
            </a>
          ) : (
            <a
              href="/login"
              class="inline-flex items-center justify-center rounded-md bg-primary px-6 py-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 min-h-[44px]"
            >
              Log In
            </a>
          )
        }
        <a
          href="/"
          class="inline-flex items-center justify-center rounded-md border border-input bg-background px-6 py-3 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 min-h-[44px]"
        >
          Go to Landing Page
        </a>
      </div>
    </div>
  </main>
</Layout>
